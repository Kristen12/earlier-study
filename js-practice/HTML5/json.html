<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var obj={
        name:"zhangsan",
        age:18
    };
    var str=JSON.stringify(obj);//对象转换成字符串，前台->后台
    console.log(str);//{"name":"zhangsan","age":18}

    var obj2=JSON.parse(str);//字符串转换成对象，后台->前台
    console.log(obj2);//Object





   //堆栈存储数据
    var a = 5;
    var b = a;
    a = 6;
    //console.log(b);
    var obj1 = {
        name : "zhangsan",
        age : 20,
        father : {
            name : "zhangbaba",
            age : 50
        }
    };
    /* var obj2 = obj1;
     obj1.name = "lisi";
     console.log(obj2.name);*/
    /*var obj2 = new Object();
     obj2.name = obj1.name;
     obj2.age = obj2.age;
     obj1.name = "lisi";
     console.log(obj2.name);*/
    var obj2 = clone(obj1);
    obj1.father.name = "lisi";
    console.log(obj2.father.name);
    //深拷贝
    function clone(obj){
        var newObj = {};
        for(var p in obj){
            if(typeof obj[p] == "object"){
                newObj[p] = arguments.callee(obj[p]);
            }else{
                newObj[p] = obj[p];
            }
        }
        return newObj;
    }//深克隆方法一
    var str1 = JSON.stringify(obj1);//方法二
    var obj3 = JSON.parse(str1);
    obj1.father.name = "xx";
    console.log(obj3);




    eval("while(true){alert(123);}");//不安全的
    //       JSON.parse("")
</script>





<!--
XML:
<userinfo>
    <name>zhangsan</name>
    <age>18</age>
    <school>黑大</school>
</userinfo>
Json:
{"name":"zhangsan","age":18, "school": "heida"}
-->


</body>
</html>